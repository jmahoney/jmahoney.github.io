---
layout: null
title: Iterative TV
permalink: /tv/
---

<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Iterative TV</title>
        <script src="https://www.youtube.com/player_api"></script>
        <style>
            body {
                margin: 0;
                padding: 10px;
                background-color: #000;
                font-family: Arial, sans-serif;
            }
            #controls {
                color: white;
                margin-bottom: 10px;
                text-align: center;
            }
            #controls button {
                background-color: #1a1a1a;
                color: white;
                border: none;
                padding: 10px 20px;
                margin: 0 5px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 14px;
                height: 40px;
                line-height: 20px;
                display: inline-flex;
                align-items: center;
                justify-content: center;
            }
            #controls button:hover {
                background-color: #2a2a2a;
            }
            #player-container {
                text-align: center;
            }
        </style>
    </head>
    <body>
        <div id="controls">
            <button onclick="previousVideo()">⏮</button>
            <button onclick="nextVideo()">⏭</button>
            <button onclick="toggleFullscreen()">⛶</button>
        </div>
        <div id="player-container">
            <div id="player"></div>
        </div>

        <script>
            // YouTube video IDs - Extracted from Friday Videos posts
            const videoIds = [
                "AJ-auWfJTts", // Classic Game Postmortem - Sid Meier's Civilization
                "8bxZuzDKoI0", // Pushing Through Friction - Daniel Na
                "gUNPsLGrtu0", // This one simple 600-year-old trick makes your website more accessible
                "QOAW9ioWAvE", // Mark Cerny describes the "Method"
                "E2MIpi8pIvY", // id Software's Programming Principles
                "V74AxCqOTvg", // Derek Sivers talks about how to start a movement
                "zVwg-9WL3dE", // Double Fine Adventure
                "cmbavBi_SLY", // Productivity Engineering - Surviving DevOps
                "KA9i5IGS-oU", // Therapeutic Refactoring - Katrina Owen
                "j71n33A0CkI", // Michael Feathers on Object Oriented and Functional approaches
                "_S5iUf0ANyQ", // Are You Chicago or London When It Comes To TDD
                "JzyE9hi912c", // Hades - Developing Hell
                "RR0YTEEMLFg", // Expanding Eve Online's server potential with gRPC
                "gR_f-iwUGY4", // Andrew Huberman on the optimal morning routine
                "mHMS35ZfyGw", // Benedict Cumberbatch reads a letter from Kurt Vonnegut
                "099cHWSbAL8", // How to crash an airplane - Nickolas Means
                "vuIlsN32WaE", // The Mathematics of Weight Loss - Ruben Meerman
                "7r83N3c2kPw", // Coding Snake on an Apple ][
                "zZwPyB20lxg", // Cal Newport on Slow Productivity
                "a7RlVUcCLNg", // Cracking the cadence of your software engineering 1:1s
                "AKoy_KMVIyU", // Double Fine PsychOdyssey
                "tQPmFQSI0lo", // Functional programming for fun and profit!! - Jenny Shih
                "1RknpWB0wRQ", // Making the most of your manager - Katrina Clokie
                "gWdDHH-jFY0", // Neal Stephenson's Opening Keynote at D.I.C.E Summit 2023
                "pSCMgcttW4c", // Analyzing an analyzer - A dive into how RuboCop works
                "iC7Lh4opLsc", // How To Run 100 Miles - Brendan Leonard
                "EZ05e7EMOLM", // TDD, Where Did It All Go Wrong - Ian Cooper
                "RGS0jBMniag", // The Magnitude 9.1 Meltdown at Fukushima - Nickolas Means
                "fJ4TMdIYadc", // Remastering Age Of Empires
                "chMwFy6kXhs", // Robots learn to play football
                "FhPt8_yNqlA", // Jerry Seinfeld on doing nothing
                "EoWlWIUJyPQ", // Cal Newport Deep Questions - overload
                "5wAo54DHDY0", // Doom meets House of Leaves in MyHouse.wad
                "WawXh_E6gqo", // Hostile Javascript - Todd H. Gardner
                "JU5niXIrK3Y", // Automation is hard! - Johan Abildskov
                "Wx6Mf4acEMM", // Fostering a quality quality culture - Adam Howard
                "_7FvUEvLYoM", // Kiwiana & Code - Katrina Clokie
                "YNY4UFaHbP4", // Barack Obama - Learn how to get stuff done
                "vH72ycz0NOo", // 10 Minute Squat Test
                "_2NI6t2r_Hs", // Rob Pike - The History of UNIX
                "lC4YLMLar5I", // Elite - "The game that couldn't be written"
                "zie51sT-bMI", // Adaptory game trailer
                "9IiTdSnmS7E", // Casey Neistat - Sisyphus and the Impossible Dream
                "VDw22kt9yUY", // Steve Albini and Anthony Bourdain eat a sandwich
                "I0kDpO2Hl-0", // Trash Theory: So what is 'Say It Ain't So' by Weezer actually about?
                "ZkfihE6JZJw", // Hannah Fry: Can AI really detect your emotions?
            ];

            // Set variables for the width and height of the viewport
            let viewportWidth = window.innerWidth - 20;
            let viewportHeight = window.innerHeight - 100; // Account for controls

            // Create a new YouTube player
            let player;
            let currentPlaylist = [];

            // Fisher-Yates shuffle algorithm
            function shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            // Create a randomized playlist
            function createRandomPlaylist() {
                currentPlaylist = shuffleArray(videoIds);
                return currentPlaylist;
            }

            function onYouTubePlayerAPIReady() {
                const randomPlaylist = createRandomPlaylist();

                player = new YT.Player("player", {
                    height: viewportHeight,
                    width: viewportWidth,
                    videoId: randomPlaylist[0], // Start with first video in shuffled list
                    playerVars: {
                        autoplay: 1,
                        controls: 1,
                        rel: 0,
                        showinfo: 1,
                        playsinline: 1,
                        origin: window.location.origin,
                    },
                    events: {
                        onReady: onPlayerReady,
                        onStateChange: onPlayerStateChange,
                    },
                });
            }

            function onPlayerReady(event) {
                // Load the entire shuffled playlist
                if (currentPlaylist.length > 1) {
                    player.loadPlaylist({
                        list: currentPlaylist,
                        listType: "playlist",
                    });
                }
            }

            let currentVideoIndex = 0;

            function onPlayerStateChange(event) {
                // When video ends, play next video in shuffled playlist
                if (event.data === YT.PlayerState.ENDED) {
                    nextVideo();
                }
            }

            // Navigate to previous video with wraparound
            function previousVideo() {
                currentVideoIndex =
                    currentVideoIndex === 0
                        ? currentPlaylist.length - 1
                        : currentVideoIndex - 1;
                player.loadVideoById(currentPlaylist[currentVideoIndex]);
            }

            // Navigate to next video with wraparound
            function nextVideo() {
                currentVideoIndex =
                    (currentVideoIndex + 1) % currentPlaylist.length;
                player.loadVideoById(currentPlaylist[currentVideoIndex]);
            }

            // Toggle fullscreen
            function toggleFullscreen() {
                if (!document.fullscreenElement) {
                    document.documentElement
                        .requestFullscreen()
                        .catch((err) => {
                            console.log(
                                `Error attempting to enable fullscreen: ${err.message}`,
                            );
                        });
                } else {
                    document.exitFullscreen();
                }
            }

            // Resize the width and height of the player when the viewport resizes
            window.onresize = function () {
                viewportWidth = window.innerWidth - 20;
                viewportHeight = window.innerHeight - 100;
                if (player && player.setSize) {
                    player.setSize(viewportWidth, viewportHeight);
                }
            };

            // Handle fullscreen changes
            document.addEventListener("fullscreenchange", function () {
                if (document.fullscreenElement) {
                    viewportWidth = window.innerWidth;
                    viewportHeight = window.innerHeight;
                } else {
                    viewportWidth = window.innerWidth - 20;
                    viewportHeight = window.innerHeight - 100;
                }
                if (player && player.setSize) {
                    player.setSize(viewportWidth, viewportHeight);
                }
            });

            // Initialize random playlist on page load
            window.addEventListener("load", function () {
                // The playlist is already randomized in onYouTubePlayerAPIReady
                console.log(
                    "Randomized playlist loaded with",
                    videoIds.length,
                    "videos",
                );
            });
        </script>
    </body>
</html>
